(this.webpackJsonpMissThuan=this.webpackJsonpMissThuan||[]).push([[7],{1128:function(e,t,a){"use strict";a.r(t);var n,r=a(98),c=a.n(r),i=a(142),s=a(22),o=a(0),u=a.n(o),l=a(819),m=a(843),p=a(844),d=a(221);!function(e){e.DATAS_SELECT="DATAS_SELECT",e.DATAS_VALUE="DATAS_VALUE"}(n||(n={}));var f,b,h=Object(d.atom)({key:n.DATAS_VALUE,default:[]}),g=(Object(d.selector)({key:n.DATAS_SELECT,get:function(e){return(0,e.get)(h)}}),a(925)),O=a(175),v=a(6),j=a(858),E=a(42),w=a(855),x=a(870),y=a(143),k=Object(l.a)((function(e){return Object(m.a)({container:{borderRadius:e.shape.borderRadius,backgroundColor:e.palette.grey[100]},title:{margin:e.spacing(1.5),paddingLeft:e.spacing(1.5),borderBottom:"1px solid ".concat(e.palette.divider)},row:{paddingLeft:e.spacing(1.5)},rowBody:{border:"unset",backgroundColor:"unset"}})})),C=function(e){var t=e.name,a=Object(p.a)().t,n=k(),r=Object(o.useState)({data:[],isLoading:!1,isFirstLoad:!0}),l=Object(s.a)(r,2),m=l[0],d=l[1],f=Object(y.b)().actionShowDialog,b=Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0})})),a=[],e.prev=2,e.next=5,Object(x.b)({supplier_name:t});case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Nguyen C: subcategories.component.tsx, F: e, N: error ",e.t0);case 11:d((function(e){return Object(E.a)(Object(E.a)({},e),{},{data:a,isLoading:!1,isFirstLoad:!1})}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){t&&b(t).then()}),[t,b]),u.a.createElement(w.a,Object.assign({},m,{onClick:f,title:a("breaking_news"),classes:{container:n.container,title:n.title,row:n.row,rowBody:n.rowBody}}))},N=function(e){var t=e.name,a=Object(p.a)().t,n=Object(o.useState)({data:[],isLoading:!1,isFirstLoad:!0}),r=Object(s.a)(n,2),l=r[0],m=r[1],d=Object(y.b)().actionShowDialog,f=Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0})})),a=[],e.prev=2,e.next=5,Object(j.c)({supplier_name:t});case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Nguyen C: subcategories.component.tsx, F: e, N: error ",e.t0);case 11:m((function(e){return Object(E.a)(Object(E.a)({},e),{},{data:a,isLoading:!1,isFirstLoad:!1})}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){t&&f(t).then()}),[t,f]),u.a.createElement(w.a,Object.assign({},l,{onClick:d,title:a("insights")}))},T=a(963),S=Object(l.a)((function(e){return Object(m.a)({chart:{flex:1}})})),L=function(e){var t=e.time,a=e.data,n=S(),r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=r.current;e.innerHTML="";var n=Object(T.a)(e,{width:e.offsetWidth,height:240}),c=n.addAreaSeries({topColor:"rgba(255, 82, 82, 0.56)",bottomColor:"rgba(255, 82, 82, 0.04)",lineColor:"rgba(255, 82, 82, 1)",lineWidth:2}),i=(a[t]||[]).length,s=[];if(i>0)for(var o=0;o<i;o++){var u=a[t][o];u&&s.push({time:u.Time,value:u.Value})}n.timeScale().resetTimeScale(),n.timeScale().fitContent(),c.setData(s)}),[t,a]),u.a.createElement("div",{className:n.chart,ref:r})},A=a(856);(b=f||(f={})).CHART_STOCKPRICE_VALUE="CHART_STOCKPRICE_VALUE",b.CHART_SENTIMENT_VALUE="CHART_SENTIMENT_VALUE";var R=Object(d.atom)({key:f.CHART_STOCKPRICE_VALUE,default:{isLoading:!0,isFirstLoad:!0,data:{},times:[],time:null}}),_=Object(d.atom)({key:f.CHART_SENTIMENT_VALUE,default:{isLoading:!0,isFirstLoad:!0,data:{},times:[],time:null}}),I=function(e){var t=Object(p.a)().t,a=Object(d.useRecoilState)(R),n=Object(s.a)(a,2),r=n[0],u=n[1],l=Object(o.useCallback)((function(e){u((function(t){return Object(E.a)(Object(E.a)({},t),{},{time:e})}))}),[u]),m=Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0})})),a={},e.prev=2,e.next=5,Object(A.d)(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Nguyen C: subcategories.component.tsx, F: e, N: error ",e.t0);case 11:n=Object.keys(a),r=n.length>0?n[0]:null,u((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,isFirstLoad:!1,times:n,time:r,data:a})}));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(o.useEffect)((function(){!e||e.length<1||m(e[0]).then()}),[e,m]),{t:t,data:r.data,time:r.time,times:r.times,loading:r.isLoading,handleTimeChange:l}},B=Object(l.a)((function(e){return Object(m.a)({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",marginBottom:e.spacing(3)},chart:{flex:1},time:{fontSize:"0.75em"}})})),D=function(e){var t=e.name,a=B(),n=I(t),r=n.t,c=n.time,i=n.data,s=n.times,o=n.loading,l=n.handleTimeChange;return o?u.a.createElement(O.g,null):u.a.createElement("div",{className:a.container},u.a.createElement(v.V,{variant:"h6",align:"center",gutterBottom:!0},r("historical_stock_price")),u.a.createElement(v.e,{color:"primary","aria-label":"outlined primary button group"},s.map((function(e,t){return u.a.createElement(v.d,{onClick:function(){l(e)},color:e===c?"secondary":"default",className:a.time,key:t},e)}))),u.a.createElement(L,{time:c,data:i}))},V=Object(l.a)((function(e){return Object(m.a)({chart:{flex:1}})})),H=function(e){var t=e.time,a=e.data,n=V(),r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=r.current;e.innerHTML="";var n=Object(T.a)(e,{width:e.offsetWidth,height:240}),c=n.addAreaSeries({topColor:"rgba(76, 175, 80, 0.5)",lineColor:"rgba(76, 175, 80, 1)",bottomColor:"rgba(76, 175, 80, 0)",lineWidth:2}),i=(a[t]||[]).length,s=[];if(i>0)for(var o=0;o<i;o++){var u=a[t][o];u&&s.push({time:u.Time,value:u.Value})}n.timeScale().resetTimeScale(),n.timeScale().fitContent(),c.setData(s)}),[t,a]),u.a.createElement("div",{className:n.chart,ref:r})},P=function(e){var t=Object(p.a)().t,a=Object(d.useRecoilState)(_),n=Object(s.a)(a,2),r=n[0],u=n[1],l=Object(o.useCallback)((function(e){u((function(t){return Object(E.a)(Object(E.a)({},t),{},{time:e})}))}),[u]),m=Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0})})),a={},e.prev=2,e.next=5,Object(A.c)(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Nguyen C: subcategories.component.tsx, F: e, N: error ",e.t0);case 11:n=Object.keys(a),r=n.length>0?n[0]:null,u((function(e){return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,isFirstLoad:!1,times:n,time:r,data:a})}));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(o.useEffect)((function(){!e||e.length<1||m(e[0]).then()}),[e,m]),{t:t,data:r.data,time:r.time,times:r.times,loading:r.isLoading,handleTimeChange:l}},F=Object(l.a)((function(e){return Object(m.a)({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",marginBottom:e.spacing(3)},chart:{flex:1},time:{fontSize:"0.75em"}})})),U=function(e){var t=e.name,a=F(),n=P(t),r=n.t,c=n.time,i=n.data,s=n.times,o=n.loading,l=n.handleTimeChange;return o?u.a.createElement(O.g,null):u.a.createElement("div",{className:a.container},u.a.createElement(v.V,{variant:"h6",align:"center",gutterBottom:!0},r("sentiment_analysis")),u.a.createElement(v.e,{color:"primary","aria-label":"outlined primary button group"},s.map((function(e,t){return u.a.createElement(v.d,{onClick:function(){l(e)},color:e===c?"secondary":"default",className:a.time,key:t},e)}))),u.a.createElement(H,{time:c,data:i}))},M=Object(l.a)((function(e){return Object(m.a)({container:{height:"100%",display:"flex",flexDirection:"column"},filter:{},chart:{flex:"0 0 250px"},data:{flex:1},news:{height:"100%"},supName:{marginRight:e.spacing(1.5),marginBottom:e.spacing(1.5)},avatar:{textTransform:"uppercase"},tabs:{height:34,minHeight:34,marginBottom:e.spacing(3)},tab:{height:34,minHeight:34}})})),K=function(){var e=M(),t=Object(p.a)().t,a=Object(d.useRecoilState)(g.b),n=Object(s.a)(a,2),r=n[0],l=n[1],m=Object(d.useRecoilState)(h),f=Object(s.a)(m,2),b=f[0],E=f[1];Object(o.useEffect)((function(){b.length>0||function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.a)();case 3:t=e.sent,a=t.filter((function(e){return!!e.active})),E(a),a&&a.length>0&&l((function(){return{supNames:[a[0].name],tabIndex:0}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Nguyen C: index.tsx, F: fetchApi, N: e ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[b,E,l]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.d,null),u.a.createElement(O.b,{className:e.container},u.a.createElement("div",{className:e.filter},u.a.createElement(v.t,{container:!0,spacing:3},u.a.createElement(v.t,{item:!0,xs:12},u.a.createElement(v.V,{variant:"subtitle2"},t("supplier_management"))),u.a.createElement(v.t,{item:!0,xs:12},u.a.createElement(v.a,{color:"default",position:"relative",classes:{root:e.tabs}},u.a.createElement(v.S,{scrollButtons:"auto",indicatorColor:"primary",variant:"scrollable",classes:{root:e.tabs},textColor:"primary",value:r.tabIndex,onChange:function(e,t){var a=b[t];l((function(){return{supNames:[a.name],tabIndex:t}}))}},b&&b.map((function(t,a){return!!t.active&&u.a.createElement(v.K,{key:a,classes:{root:e.tab},label:t.name})}))))))),u.a.createElement("div",{className:e.chart},u.a.createElement(v.t,{className:e.news,container:!0,spacing:3},u.a.createElement(v.t,{item:!0,xs:6},u.a.createElement(D,{name:r.supNames})),u.a.createElement(v.t,{item:!0,xs:6},u.a.createElement(U,{name:r.supNames})))),u.a.createElement("div",{className:e.data},u.a.createElement(v.t,{className:e.news,container:!0,spacing:3},u.a.createElement(v.t,{item:!0,xs:10}),u.a.createElement(v.t,{item:!0,xs:4,className:e.news},u.a.createElement(C,{name:r.supNames})),u.a.createElement(v.t,{item:!0,xs:8,className:e.news},u.a.createElement(N,{name:r.supNames}))))))};t.default=K},855:function(e,t,a){"use strict";var n=a(22),r=a(0),c=a.n(r),i=a(819),s=a(843),o=a(175),u=a(6),l=a(876),m=a(54),p=a.n(m),d=Object(i.a)((function(e){return Object(s.a)({container:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},title:{paddingBottom:e.spacing(1.5)},news:{flex:1},row:{paddingRight:e.spacing(1.5),paddingBottom:e.spacing(1.5)},rowBody:{cursor:"pointer",padding:e.spacing(1.5),borderRadius:2*e.shape.borderRadius,border:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:e.palette.action.hover}},rowTitle:{fontWeight:500,marginBottom:e.spacing(1.5)}})}));var f=function(e){var t=e.isLoading,a=e.title,i=e.data,s=e.onClick,m=e.classes,f=e.renderRow,b=d(),h=Object(r.useState)(new l.c({minHeight:50,fixedWidth:!0})),g=Object(n.a)(h,1)[0];Object(r.useEffect)((function(){t&&g.clearAll()}),[g,t]);var O=function(e){var t=e.index,a=e.key,n=e.parent,r=e.style,d=i[t];return c.a.createElement(l.b,{cache:g,columnIndex:0,key:a,parent:n,rowIndex:t},(function(e){var t,a=e.measure,n=e.registerChild,i=f?f(d):c.a.createElement(c.a.Fragment,null,c.a.createElement(u.V,{className:b.rowTitle,variant:"subtitle1"},d.title),c.a.createElement(u.V,null,(t=d.summarize_text)&&t.length>210?t.substring(0,210)+"...":t));return c.a.createElement("div",{onLoad:a,ref:n,style:r,className:p()(b.row,m.row)},c.a.createElement(o.b,{className:p()(b.rowBody,m.rowBody),onClick:function(){s&&s(d)}},i))}))};return c.a.createElement(o.b,{className:p()(b.container,m.container)},c.a.createElement(u.V,{variant:"h6",className:p()(b.title,m.title)},a),c.a.createElement("div",{className:b.news},c.a.createElement(l.a,null,(function(e){var a=e.height,n=e.width;return t?c.a.createElement("div",{style:{height:a,width:n,padding:12}},c.a.createElement(u.I,{variant:"rect",width:"100%",height:100,style:{marginBottom:12,borderRadius:8}}),c.a.createElement(u.I,{variant:"rect",width:"100%",height:100,style:{borderRadius:8}})):c.a.createElement(l.d,{rowCount:i.length,className:"scrollbar",deferredMeasurementCache:g,rowHeight:g.rowHeight,height:a,width:n,rowRenderer:O})}))))};f.defaultProps={data:[],classes:{}};var b=f;t.a=b},856:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return f}));var n=a(98),r=a.n(n),c=a(142),i=a(220),s=a(81);function o(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"".concat(s.b,"/graphs/").concat(t),params:{id:a}});case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"".concat(s.b,"/graphs/analytics"),params:{id:t}});case 2:return a=e.sent,e.abrupt("return",a.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"".concat(s.b,"/stockprices"),params:{supplier:t}});case 2:return a=e.sent,e.abrupt("return",a.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({url:"".concat(s.b,"/sentiments"),params:{supplier:t}});case 2:return a=e.sent,e.abrupt("return",a.data[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},858:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return f}));var n=a(98),r=a.n(n),c=a(142),i=a(220),s=a(81);function o(){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({url:"".concat(s.b,"/").concat(s.a.Suppliers),params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({method:"PUT",url:"".concat(s.b,"/").concat(s.a.Suppliers),data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({url:"".concat(s.b,"/news/breakingnews"),params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({method:"POST",url:"".concat(s.b,"/news/").concat(s.a.Suppliers),data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},870:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(98),r=a.n(n),c=a(142),i=a(220),s=a(81);function o(){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({url:"".concat(s.b,"/news/").concat(s.a.BreakingNews),params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(i.a)({url:"".concat(s.b,"/news/").concat(s.a.BreakingNews),method:"POST",data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},925:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n,r=a(221);!function(e){e.SUPPLIER_NAME="SUPPLIER_NAME",e.THIRD_PARTY_RISK="THIRD_PARTY_RISK"}(n||(n={}));var c=Object(r.atom)({key:n.SUPPLIER_NAME,default:""}),i=Object(r.atom)({key:n.THIRD_PARTY_RISK,default:{tabIndex:0,supNames:[]}})}}]);
//# sourceMappingURL=7.61dce1e0.chunk.js.map